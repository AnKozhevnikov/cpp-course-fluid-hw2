# Домашнее задание 2

## Чеклист

- Ввод из файла - сделано
- Написанный шаблон Fixed - сделано
- Шаблонный класс симулятора с выбором типов и размеров с возможностью использовать динамический размер - сделано
- Выбор типов и размеров в рантайме без потери производительности - сделано
- Возможность сохранять параметры симуляции на каждом шаге - пока не сделано

## Решение
В задаче требуется, чтобы при компиляции выбирались доступные типы данных и размеры поля, далее при запуске мы выбираем уже конкретные и через них запускаемся. Также нужен ввод из файла.

Исходный код был вынесен в отдельный шаблонный класс с пятью параметрами - тремя типами и двумя размерностями. Однако, так как нам нужны статическая и динамическая реализации, то под динамическую реализацию была написана специализация данного шаблонного класса при параметрах размерности 0 и 0.

Были написаны типы данных Double, Float, Fixed и FastFixed. Последние два шаблонные. Арифметика между ними происходит следующим образом - если типы одинаковые, то вычисления происходят в рамках типа, иначе второй параметр кастуется к double, потом к первому типу.

Далее была написана магия на макросах, которая для всех комбинаций типов и размеров пытается запустить данную статическую или динамическую реализацию, если все параметры совпали со входными. Если не произошло ни одного совпадения, то программа вылетает.

## Протокол взаимодействия
Для выбора возможных типов данных и размеров для компиляции нужно зайти в файл cmake и в строчках, где задаются переменные поменять необходимые параметры. Параметры вводятся без пробелов через запятую аналогично с ТЗ. В теории можно собирать голым компилятором и передавать параметры компиляции в командной строке, но так неудобно. Чем больше указано параметров, тем дольше происходит сборка.

При запуске необходимо передать параметры типов аналогично ТЗ, однако надо ещё передать путь до файла с полем через --source="path/to/field.txt".

В файле с полем в первой строке находятся размеры поля разделённые пробелом. В последующих строчках само поле.
